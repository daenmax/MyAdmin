---
title: 短信模板配置
date: 2023-05-14 16:37:23
permalink: /pages/5a2e40/
---

## 说明

虽然配置了`短信`的一些参数，但是具体的场景，我们还是需要使用不同的`模板ID`和`参数`

包括但不限于 `注册时`、`登录时`、`绑定手机时`、`找回密码时`、`定时任务异常时`等

所以我们需要进行一下配置

参数名为：`sys.smsTemplate.config`

## 配置说明

### 注册时

| register节点 | 说明               | 取值                              |
|------------|------------------|---------------------------------|
| templateId | 模板ID             | 模板ID                            |
| variable   | 变量名              | 一般情况下，阿里云是变量名，例如code，腾讯云是序号，例如1 |
| length     | 当前变量的最大长度，超出后会截断 | 例如：6                            |

### 登录时

| login节点    | 说明               | 取值                              |
|------------|------------------|---------------------------------|
| templateId | 模板ID             | 模板ID                            |
| variable   | 变量名              | 一般情况下，阿里云是变量名，例如code，腾讯云是序号，例如1 |
| length     | 当前变量的最大长度，超出后会截断 | 6                               |

### 绑定手机时

| bindPhone节点 | 说明               | 取值                              |
|-------------|------------------|---------------------------------|
| templateId  | 模板ID             | 模板ID                            |
| variable    | 变量名              | 一般情况下，阿里云是变量名，例如code，腾讯云是序号，例如1 |
| length      | 当前变量的最大长度，超出后会截断 | 例如：6                            |

### 找回密码时

| findPassword节点 | 说明               | 取值                              |
|----------------|------------------|---------------------------------|
| templateId     | 模板ID             | 模板ID                            |
| variable       | 变量名              | 一般情况下，阿里云是变量名，例如code，腾讯云是序号，例如1 |
| length         | 当前变量的最大长度，超出后会截断 | 例如：6                            |

### 定时任务异常时

| jobError节点 | 说明               | 取值                              |
|------------|------------------|---------------------------------|
| templateId | 模板ID             | 模板ID                            |
| variable   | 变量名              | 一般情况下，阿里云是变量名，例如code，腾讯云是序号，例如1 |
| length     | 当前变量的最大长度，超出后会截断 | 例如：70                           |

## 示例配置

```json
{
  "register": {
    "variable": "code",
    "templateId": "SMS_460755481",
    "length": 6
  },
  "login": {
    "variable": "code",
    "templateId": "SMS_460755481",
    "length": 6
  },
  "bindPhone": {
    "variable": "code",
    "templateId": "SMS_460755481",
    "length": 6
  },
  "findPassword": {
    "variable": "code",
    "templateId": "SMS_460755481",
    "length": 6
  },
  "jobError": {
    "variable": "code",
    "templateId": "SMS_460755481",
    "length": 70
  }
}
```
